<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Docentes Brown · Escuelas por 1.000 hab. (edad escolar)</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
<style>
  :root{
    --azul:#24496e; --crema:#f3efdc; --violeta:#6c467e; --coral:#da6863;
    --negro:#101418; --gris:#5b6572; --borde:#e7e3d8;
  }
  *{box-sizing:border-box}
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--crema);color:var(--negro);margin:0}
  header{background:linear-gradient(135deg,var(--violeta),var(--coral));color:#fff}
  .header-wrap{max-width:1100px;margin:0 auto;padding:14px 16px;display:flex;align-items:center;gap:12px}
  .header-wrap img{height:40px;width:auto;border-radius:8px;background:#fff8}
  h1{font-size:1.25rem;margin:0}
  .container{max-width:1100px;margin:0 auto;padding:16px}
  .panel{background:#fff;border:1px solid var(--borde);border-radius:16px;padding:12px;box-shadow:0 8px 24px rgba(16,20,24,.05)}
  .controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin-bottom:10px}
  select,input,button{padding:6px 10px;border-radius:12px;border:1px solid var(--borde);font-weight:600;background:#fff}
  #chart{width:100%;height:clamp(360px,60vh,720px)}
  .kpis{display:flex;flex-wrap:wrap;gap:10px;margin:8px 0 0}
  .kpi{padding:8px 10px;border:1px solid var(--borde);border-radius:12px;background:#fff}
  .compare{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  .mini{font-size:.9rem;color:var(--gris)}
  footer{padding:16px;color:var(--gris)}
</style>
</head>
<body>
  <header>
    <div class="header-wrap">
      <img src="logo-docentes-brown.png" alt="Docentes Brown"/>
      <h1>Escuelas por 1.000 habitantes (edad escolar)</h1>
    </div>
  </header>
  <main class="container">
    <div class="panel">
      <div class="controls">
        <label>Métrica:
          <select id="metric">
            <option value="total_por_1000">Total por 1.000 (Inicial+Primario+Secundario)</option>
            <option value="inicial_por_1000">Inicial por 1.000</option>
            <option value="primario_por_1000">Primario por 1.000</option>
            <option value="secundario_por_1000">Secundario por 1.000</option>
          </select>
        </label>
        <label>Orden:
          <select id="order">
            <option value="desc">Mayor → menor</option>
            <option value="asc">Menor → mayor</option>
          </select>
        </label>
        <label>Buscar distrito:
          <input id="search" type="text" placeholder="Ej: La Plata, Quilmes..." />
        </label>
        <label>Top:
          <select id="topn">
            <option value="0">Todos</option>
            <option value="10">Top 10</option>
            <option value="20">Top 20</option>
            <option value="50">Top 50</option>
          </select>
        </label>
        <button id="btnReset">Limpiar filtros</button>
      </div>

      <div class="controls compare">
        <span class="mini">Comparar hasta 3 distritos:</span>
        <input list="listDistritos" id="cmp1" placeholder="Distrito 1"/>
        <input list="listDistritos" id="cmp2" placeholder="Distrito 2"/>
        <input list="listDistritos" id="cmp3" placeholder="Distrito 3"/>
        <label class="mini"><input type="checkbox" id="onlyCmp"/> mostrar solo seleccionados</label>
        <button id="btnCmpClear">Limpiar comparación</button>
        <datalist id="listDistritos"><option value="25 de Mayo"></option><option value="9 de Julio"></option><option value="Adolfo Alsina"></option><option value="Adolfo Gonzales Chaves"></option><option value="Alberti"></option><option value="Almirante Brown"></option><option value="Arrecifes"></option><option value="Avellaneda"></option><option value="Ayacucho"></option><option value="Azul"></option><option value="Bahía Blanca"></option><option value="Balcarce"></option><option value="Baradero"></option><option value="Benito Juárez"></option><option value="Berazategui"></option><option value="Berisso"></option><option value="Bolívar"></option><option value="Bragado"></option><option value="Brandsen"></option><option value="Campana"></option><option value="Capitán Sarmiento"></option><option value="Carlos Casares"></option><option value="Carlos Tejedor"></option><option value="Carmen de Areco"></option><option value="Castelli"></option><option value="Cañuelas"></option><option value="Chacabuco"></option><option value="Chascomús"></option><option value="Chivilcoy"></option><option value="Colón"></option><option value="Coronel Dorrego"></option><option value="Coronel Pringles"></option><option value="Coronel Suárez"></option><option value="Coronel de Marina L. Rosales"></option><option value="Daireaux"></option><option value="Dolores"></option><option value="Ensenada"></option><option value="Escobar"></option><option value="Esteban Echeverría"></option><option value="Exaltación de la Cruz"></option><option value="Ezeiza"></option><option value="Florencio Varela"></option><option value="Florentino Ameghino"></option><option value="General Alvarado"></option><option value="General Alvear"></option><option value="General Arenales"></option><option value="General Belgrano"></option><option value="General Guido"></option><option value="General Juan Madariaga"></option><option value="General La Madrid"></option><option value="General Las Heras"></option><option value="General Lavalle"></option><option value="General Paz"></option><option value="General Pinto"></option><option value="General Pueyrredón"></option><option value="General Rodríguez"></option><option value="General San Martín"></option><option value="General Viamonte"></option><option value="General Villegas"></option><option value="Guaminí"></option><option value="Hipólito Yrigoyen"></option><option value="Hurlingham"></option><option value="Ituzaingó"></option><option value="José C. Paz"></option><option value="Junín"></option><option value="La Costa"></option><option value="La Matanza"></option><option value="La Plata"></option><option value="Lanús"></option><option value="Laprida"></option><option value="Las Flores"></option><option value="Leandro N. Alem"></option><option value="Lezama"></option><option value="Lincoln"></option><option value="Lobería"></option><option value="Lobos"></option><option value="Lomas de Zamora"></option><option value="Luján"></option><option value="Magdalena"></option><option value="Maipú"></option><option value="Malvinas Argentinas"></option><option value="Mar Chiquita"></option><option value="Marcos Paz"></option><option value="Mercedes"></option><option value="Merlo"></option><option value="Monte"></option><option value="Monte Hermoso"></option><option value="Moreno"></option><option value="Morón"></option><option value="Navarro"></option><option value="Necochea"></option><option value="Olavarría"></option><option value="Patagones"></option><option value="Pehuajó"></option><option value="Pellegrini"></option><option value="Pergamino"></option><option value="Pila"></option><option value="Pilar"></option><option value="Pinamar"></option><option value="Presidente Perón"></option><option value="Puan"></option><option value="Punta Indio"></option><option value="Quilmes"></option><option value="Ramallo"></option><option value="Rauch"></option><option value="Rivadavia"></option><option value="Rojas"></option><option value="Roque Pérez"></option><option value="Saavedra"></option><option value="Saladillo"></option><option value="Salliqueló"></option><option value="Salto"></option><option value="San Andrés de Giles"></option><option value="San Antonio de Areco"></option><option value="San Cayetano"></option><option value="San Fernando"></option><option value="San Isidro"></option><option value="San Miguel"></option><option value="San Nicolás"></option><option value="San Pedro"></option><option value="San Vicente"></option><option value="Suipacha"></option><option value="Tandil"></option><option value="Tapalqué"></option><option value="Tigre"></option><option value="Tordillo"></option><option value="Tornquist"></option><option value="Trenque Lauquen"></option><option value="Tres Arroyos"></option><option value="Tres Lomas"></option><option value="Tres de Febrero"></option><option value="Vicente López"></option><option value="Villa Gesell"></option><option value="Villarino"></option><option value="Zárate"></option></datalist>
      </div>

      <div id="chart"></div>

      <div class="kpis">
        <div class="kpi" id="kpiRows"></div>
        <div class="kpi" id="kpiMedia"></div>
        <div class="kpi" id="kpiMax"></div>
      </div>
      <div class="mini" id="cmpTable"></div>
    </div>
  </main>
  <footer class="container">© Docentes Brown</footer>
  <script>
    const DATA = [{"distrito": "La Matanza", "nivel_inicial": 357, "nivel_primario": 363, "nivel_secundario": 341, "total_escuelas": 1061, "pob_inicial": 66998.0, "pob_primaria": 182010.0, "pob_secundaria": 193508.0, "total_por_1000": 2.4, "inicial_por_1000": 5.33, "primario_por_1000": 1.99, "secundario_por_1000": 1.76}, {"distrito": "La Plata", "nivel_inicial": 237, "nivel_primario": 227, "nivel_secundario": 212, "total_escuelas": 676, "pob_inicial": 21814.0, "pob_primaria": 62415.0, "pob_secundaria": 66555.0, "total_por_1000": 4.48, "inicial_por_1000": 10.86, "primario_por_1000": 3.64, "secundario_por_1000": 3.19}, {"distrito": "Lomas de Zamora", "nivel_inicial": 183, "nivel_primario": 194, "nivel_secundario": 191, "total_escuelas": 568, "pob_inicial": 21059.0, "pob_primaria": 61009.0, "pob_secundaria": 66536.0, "total_por_1000": 3.82, "inicial_por_1000": 8.69, "primario_por_1000": 3.18, "secundario_por_1000": 2.87}, {"distrito": "General Pueyrredón", "nivel_inicial": 197, "nivel_primario": 188, "nivel_secundario": 174, "total_escuelas": 559, "pob_inicial": 17552.0, "pob_primaria": 49623.0, "pob_secundaria": 54188.0, "total_por_1000": 4.61, "inicial_por_1000": 11.22, "primario_por_1000": 3.79, "secundario_por_1000": 3.21}, {"distrito": "Quilmes", "nivel_inicial": 167, "nivel_primario": 160, "nivel_secundario": 153, "total_escuelas": 480, "pob_inicial": 19467.0, "pob_primaria": 56631.0, "pob_secundaria": 61340.0, "total_por_1000": 3.49, "inicial_por_1000": 8.58, "primario_por_1000": 2.83, "secundario_por_1000": 2.49}, {"distrito": "Almirante Brown", "nivel_inicial": 145, "nivel_primario": 152, "nivel_secundario": 148, "total_escuelas": 445, "pob_inicial": 17710.0, "pob_primaria": 53681.0, "pob_secundaria": 58792.0, "total_por_1000": 3.42, "inicial_por_1000": 8.19, "primario_por_1000": 2.83, "secundario_por_1000": 2.52}, {"distrito": "Moreno", "nivel_inicial": 127, "nivel_primario": 147, "nivel_secundario": 141, "total_escuelas": 415, "pob_inicial": 21322.0, "pob_primaria": 60990.0, "pob_secundaria": 64808.0, "total_por_1000": 2.82, "inicial_por_1000": 5.96, "primario_por_1000": 2.41, "secundario_por_1000": 2.18}, {"distrito": "Lanús", "nivel_inicial": 126, "nivel_primario": 130, "nivel_secundario": 116, "total_escuelas": 372, "pob_inicial": 11543.0, "pob_primaria": 34410.0, "pob_secundaria": 39163.0, "total_por_1000": 4.37, "inicial_por_1000": 10.92, "primario_por_1000": 3.78, "secundario_por_1000": 2.96}, {"distrito": "Merlo", "nivel_inicial": 112, "nivel_primario": 128, "nivel_secundario": 126, "total_escuelas": 366, "pob_inicial": 19956.0, "pob_primaria": 57520.0, "pob_secundaria": 61359.0, "total_por_1000": 2.64, "inicial_por_1000": 5.61, "primario_por_1000": 2.23, "secundario_por_1000": 2.05}, {"distrito": "Tigre", "nivel_inicial": 131, "nivel_primario": 120, "nivel_secundario": 108, "total_escuelas": 359, "pob_inicial": 13537.0, "pob_primaria": 39663.0, "pob_secundaria": 45887.0, "total_por_1000": 3.62, "inicial_por_1000": 9.68, "primario_por_1000": 3.03, "secundario_por_1000": 2.35}, {"distrito": "Pilar", "nivel_inicial": 116, "nivel_primario": 120, "nivel_secundario": 105, "total_escuelas": 341, "pob_inicial": 14965.0, "pob_primaria": 39850.0, "pob_secundaria": 43058.0, "total_por_1000": 3.48, "inicial_por_1000": 7.75, "primario_por_1000": 3.01, "secundario_por_1000": 2.44}, {"distrito": "Florencio Varela", "nivel_inicial": 102, "nivel_primario": 106, "nivel_secundario": 104, "total_escuelas": 312, "pob_inicial": 19074.0, "pob_primaria": 52269.0, "pob_secundaria": 54760.0, "total_por_1000": 2.47, "inicial_por_1000": 5.35, "primario_por_1000": 2.03, "secundario_por_1000": 1.9}, {"distrito": "General San Martín", "nivel_inicial": 102, "nivel_primario": 108, "nivel_secundario": 101, "total_escuelas": 311, "pob_inicial": 11573.0, "pob_primaria": 34479.0, "pob_secundaria": 38846.0, "total_por_1000": 3.66, "inicial_por_1000": 8.81, "primario_por_1000": 3.13, "secundario_por_1000": 2.6}, {"distrito": "Avellaneda", "nivel_inicial": 125, "nivel_primario": 103, "nivel_secundario": 76, "total_escuelas": 304, "pob_inicial": 9236.0, "pob_primaria": 28424.0, "pob_secundaria": 32280.0, "total_por_1000": 4.35, "inicial_por_1000": 13.53, "primario_por_1000": 3.62, "secundario_por_1000": 2.35}, {"distrito": "Bahía Blanca", "nivel_inicial": 107, "nivel_primario": 110, "nivel_secundario": 83, "total_escuelas": 300, "pob_inicial": 9695.0, "pob_primaria": 26928.0, "pob_secundaria": 28758.0, "total_por_1000": 4.59, "inicial_por_1000": 11.04, "primario_por_1000": 4.08, "secundario_por_1000": 2.89}, {"distrito": "Berazategui", "nivel_inicial": 100, "nivel_primario": 99, "nivel_secundario": 97, "total_escuelas": 296, "pob_inicial": 10452.0, "pob_primaria": 32012.0, "pob_secundaria": 36001.0, "total_por_1000": 3.77, "inicial_por_1000": 9.57, "primario_por_1000": 3.09, "secundario_por_1000": 2.69}, {"distrito": "Morón", "nivel_inicial": 99, "nivel_primario": 104, "nivel_secundario": 87, "total_escuelas": 290, "pob_inicial": 7338.0, "pob_primaria": 22351.0, "pob_secundaria": 25399.0, "total_por_1000": 5.26, "inicial_por_1000": 13.49, "primario_por_1000": 4.65, "secundario_por_1000": 3.43}, {"distrito": "San Isidro", "nivel_inicial": 101, "nivel_primario": 100, "nivel_secundario": 88, "total_escuelas": 289, "pob_inicial": 7242.0, "pob_primaria": 20286.0, "pob_secundaria": 23438.0, "total_por_1000": 5.67, "inicial_por_1000": 13.95, "primario_por_1000": 4.93, "secundario_por_1000": 3.75}, {"distrito": "San Miguel", "nivel_inicial": 90, "nivel_primario": 100, "nivel_secundario": 97, "total_escuelas": 287, "pob_inicial": 10300.0, "pob_primaria": 29899.0, "pob_secundaria": 31324.0, "total_por_1000": 4.01, "inicial_por_1000": 8.74, "primario_por_1000": 3.34, "secundario_por_1000": 3.1}, {"distrito": "Tres de Febrero", "nivel_inicial": 107, "nivel_primario": 93, "nivel_secundario": 84, "total_escuelas": 284, "pob_inicial": 8468.0, "pob_primaria": 26288.0, "pob_secundaria": 29344.0, "total_por_1000": 4.43, "inicial_por_1000": 12.64, "primario_por_1000": 3.54, "secundario_por_1000": 2.86}, {"distrito": "Malvinas Argentinas", "nivel_inicial": 79, "nivel_primario": 83, "nivel_secundario": 88, "total_escuelas": 250, "pob_inicial": 10913.0, "pob_primaria": 31211.0, "pob_secundaria": 35143.0, "total_por_1000": 3.24, "inicial_por_1000": 7.24, "primario_por_1000": 2.66, "secundario_por_1000": 2.5}, {"distrito": "Escobar", "nivel_inicial": 84, "nivel_primario": 83, "nivel_secundario": 79, "total_escuelas": 246, "pob_inicial": 9182.0, "pob_primaria": 25934.0, "pob_secundaria": 27019.0, "total_por_1000": 3.96, "inicial_por_1000": 9.15, "primario_por_1000": 3.2, "secundario_por_1000": 2.92}, {"distrito": "Vicente López", "nivel_inicial": 85, "nivel_primario": 80, "nivel_secundario": 69, "total_escuelas": 234, "pob_inicial": 6279.0, "pob_primaria": 17652.0, "pob_secundaria": 20131.0, "total_por_1000": 5.31, "inicial_por_1000": 13.54, "primario_por_1000": 4.53, "secundario_por_1000": 3.43}, {"distrito": "Esteban Echeverría", "nivel_inicial": 77, "nivel_primario": 81, "nivel_secundario": 72, "total_escuelas": 230, "pob_inicial": 11620.0, "pob_primaria": 32889.0, "pob_secundaria": 35400.0, "total_por_1000": 2.88, "inicial_por_1000": 6.63, "primario_por_1000": 2.46, "secundario_por_1000": 2.03}, {"distrito": "Olavarría", "nivel_inicial": 65, "nivel_primario": 81, "nivel_secundario": 41, "total_escuelas": 187, "pob_inicial": 3527.0, "pob_primaria": 10340.0, "pob_secundaria": 11317.0, "total_por_1000": 7.43, "inicial_por_1000": 18.43, "primario_por_1000": 7.83, "secundario_por_1000": 3.62}, {"distrito": "José C. Paz", "nivel_inicial": 57, "nivel_primario": 67, "nivel_secundario": 62, "total_escuelas": 186, "pob_inicial": 12613.0, "pob_primaria": 34439.0, "pob_secundaria": 36196.0, "total_por_1000": 2.23, "inicial_por_1000": 4.52, "primario_por_1000": 1.95, "secundario_por_1000": 1.71}, {"distrito": "San Fernando", "nivel_inicial": 66, "nivel_primario": 59, "nivel_secundario": 48, "total_escuelas": 173, "pob_inicial": 4679.0, "pob_primaria": 14089.0, "pob_secundaria": 15399.0, "total_por_1000": 5.06, "inicial_por_1000": 14.11, "primario_por_1000": 4.19, "secundario_por_1000": 3.12}, {"distrito": "San Nicolás", "nivel_inicial": 54, "nivel_primario": 62, "nivel_secundario": 50, "total_escuelas": 166, "pob_inicial": 5562.0, "pob_primaria": 14620.0, "pob_secundaria": 15345.0, "total_por_1000": 4.67, "inicial_por_1000": 9.71, "primario_por_1000": 4.24, "secundario_por_1000": 3.26}, {"distrito": "Tandil", "nivel_inicial": 57, "nivel_primario": 67, "nivel_secundario": 41, "total_escuelas": 165, "pob_inicial": 4101.0, "pob_primaria": 11728.0, "pob_secundaria": 12613.0, "total_por_1000": 5.8, "inicial_por_1000": 13.9, "primario_por_1000": 5.71, "secundario_por_1000": 3.25}, {"distrito": "Hurlingham", "nivel_inicial": 49, "nivel_primario": 53, "nivel_secundario": 51, "total_escuelas": 153, "pob_inicial": 4761.0, "pob_primaria": 14496.0, "pob_secundaria": 16368.0, "total_por_1000": 4.29, "inicial_por_1000": 10.29, "primario_por_1000": 3.66, "secundario_por_1000": 3.12}, {"distrito": "Pergamino", "nivel_inicial": 54, "nivel_primario": 60, "nivel_secundario": 38, "total_escuelas": 152, "pob_inicial": 3676.0, "pob_primaria": 9956.0, "pob_secundaria": 10622.0, "total_por_1000": 6.27, "inicial_por_1000": 14.69, "primario_por_1000": 6.03, "secundario_por_1000": 3.58}, {"distrito": "Ezeiza", "nivel_inicial": 56, "nivel_primario": 49, "nivel_secundario": 45, "total_escuelas": 150, "pob_inicial": 7017.0, "pob_primaria": 20648.0, "pob_secundaria": 21921.0, "total_por_1000": 3.03, "inicial_por_1000": 7.98, "primario_por_1000": 2.37, "secundario_por_1000": 2.05}, {"distrito": "Ituzaingó", "nivel_inicial": 51, "nivel_primario": 50, "nivel_secundario": 47, "total_escuelas": 148, "pob_inicial": 4279.0, "pob_primaria": 13435.0, "pob_secundaria": 15541.0, "total_por_1000": 4.45, "inicial_por_1000": 11.92, "primario_por_1000": 3.72, "secundario_por_1000": 3.02}, {"distrito": "Luján", "nivel_inicial": 53, "nivel_primario": 51, "nivel_secundario": 38, "total_escuelas": 142, "pob_inicial": 3493.0, "pob_primaria": 9874.0, "pob_secundaria": 10588.0, "total_por_1000": 5.93, "inicial_por_1000": 15.17, "primario_por_1000": 5.17, "secundario_por_1000": 3.59}, {"distrito": "Necochea", "nivel_inicial": 44, "nivel_primario": 53, "nivel_secundario": 37, "total_escuelas": 134, "pob_inicial": 2864.0, "pob_primaria": 8367.0, "pob_secundaria": 9123.0, "total_por_1000": 6.58, "inicial_por_1000": 15.36, "primario_por_1000": 6.33, "secundario_por_1000": 4.06}, {"distrito": "Zárate", "nivel_inicial": 46, "nivel_primario": 49, "nivel_secundario": 39, "total_escuelas": 134, "pob_inicial": 4240.0, "pob_primaria": 11956.0, "pob_secundaria": 13361.0, "total_por_1000": 4.53, "inicial_por_1000": 10.85, "primario_por_1000": 4.1, "secundario_por_1000": 2.92}, {"distrito": "Azul", "nivel_inicial": 45, "nivel_primario": 60, "nivel_secundario": 26, "total_escuelas": 131, "pob_inicial": 2219.0, "pob_primaria": 6518.0, "pob_secundaria": 7113.0, "total_por_1000": 8.26, "inicial_por_1000": 20.28, "primario_por_1000": 9.21, "secundario_por_1000": 3.66}, {"distrito": "Junín", "nivel_inicial": 46, "nivel_primario": 49, "nivel_secundario": 35, "total_escuelas": 130, "pob_inicial": 3274.0, "pob_primaria": 8546.0, "pob_secundaria": 8947.0, "total_por_1000": 6.26, "inicial_por_1000": 14.05, "primario_por_1000": 5.73, "secundario_por_1000": 3.91}, {"distrito": "Campana", "nivel_inicial": 41, "nivel_primario": 46, "nivel_secundario": 42, "total_escuelas": 129, "pob_inicial": 3367.0, "pob_primaria": 9821.0, "pob_secundaria": 10954.0, "total_por_1000": 5.34, "inicial_por_1000": 12.18, "primario_por_1000": 4.68, "secundario_por_1000": 3.83}, {"distrito": "Mercedes", "nivel_inicial": 44, "nivel_primario": 47, "nivel_secundario": 24, "total_escuelas": 115, "pob_inicial": 2275.0, "pob_primaria": 6456.0, "pob_secundaria": 6676.0, "total_por_1000": 7.46, "inicial_por_1000": 19.34, "primario_por_1000": 7.28, "secundario_por_1000": 3.59}, {"distrito": "Trenque Lauquen", "nivel_inicial": 43, "nivel_primario": 51, "nivel_secundario": 16, "total_escuelas": 110, "pob_inicial": 1770.0, "pob_primaria": 4485.0, "pob_secundaria": 4483.0, "total_por_1000": 10.24, "inicial_por_1000": 24.29, "primario_por_1000": 11.37, "secundario_por_1000": 3.57}, {"distrito": "General Rodríguez", "nivel_inicial": 40, "nivel_primario": 37, "nivel_secundario": 32, "total_escuelas": 109, "pob_inicial": 6080.0, "pob_primaria": 16699.0, "pob_secundaria": 17657.0, "total_por_1000": 2.7, "inicial_por_1000": 6.58, "primario_por_1000": 2.22, "secundario_por_1000": 1.81}, {"distrito": "Chivilcoy", "nivel_inicial": 35, "nivel_primario": 50, "nivel_secundario": 22, "total_escuelas": 107, "pob_inicial": 2063.0, "pob_primaria": 5717.0, "pob_secundaria": 6347.0, "total_por_1000": 7.57, "inicial_por_1000": 16.97, "primario_por_1000": 8.75, "secundario_por_1000": 3.47}, {"distrito": "25 de Mayo", "nivel_inicial": 39, "nivel_primario": 49, "nivel_secundario": 17, "total_escuelas": 105, "pob_inicial": 1158.0, "pob_primaria": 3089.0, "pob_secundaria": 3235.0, "total_por_1000": 14.03, "inicial_por_1000": 33.68, "primario_por_1000": 15.86, "secundario_por_1000": 5.26}, {"distrito": "Tres Arroyos", "nivel_inicial": 37, "nivel_primario": 43, "nivel_secundario": 23, "total_escuelas": 103, "pob_inicial": 1753.0, "pob_primaria": 5117.0, "pob_secundaria": 5488.0, "total_por_1000": 8.33, "inicial_por_1000": 21.11, "primario_por_1000": 8.4, "secundario_por_1000": 4.19}, {"distrito": "San Pedro", "nivel_inicial": 32, "nivel_primario": 44, "nivel_secundario": 25, "total_escuelas": 101, "pob_inicial": 2506.0, "pob_primaria": 6630.0, "pob_secundaria": 7219.0, "total_por_1000": 6.18, "inicial_por_1000": 12.77, "primario_por_1000": 6.64, "secundario_por_1000": 3.46}, {"distrito": "Cañuelas", "nivel_inicial": 31, "nivel_primario": 41, "nivel_secundario": 29, "total_escuelas": 101, "pob_inicial": 2536.0, "pob_primaria": 7593.0, "pob_secundaria": 8049.0, "total_por_1000": 5.56, "inicial_por_1000": 12.22, "primario_por_1000": 5.4, "secundario_por_1000": 3.6}, {"distrito": "Lincoln", "nivel_inicial": 35, "nivel_primario": 45, "nivel_secundario": 19, "total_escuelas": 99, "pob_inicial": 1681.0, "pob_primaria": 3903.0, "pob_secundaria": 4099.0, "total_por_1000": 10.22, "inicial_por_1000": 20.82, "primario_por_1000": 11.53, "secundario_por_1000": 4.64}, {"distrito": "Coronel Suárez", "nivel_inicial": 36, "nivel_primario": 37, "nivel_secundario": 22, "total_escuelas": 95, "pob_inicial": 1255.0, "pob_primaria": 3431.0, "pob_secundaria": 3709.0, "total_por_1000": 11.32, "inicial_por_1000": 28.69, "primario_por_1000": 10.78, "secundario_por_1000": 5.93}, {"distrito": "9 de Julio", "nivel_inicial": 36, "nivel_primario": 37, "nivel_secundario": 20, "total_escuelas": 93, "pob_inicial": 1640.0, "pob_primaria": 4698.0, "pob_secundaria": 4989.0, "total_por_1000": 8.21, "inicial_por_1000": 21.95, "primario_por_1000": 7.88, "secundario_por_1000": 4.01}, {"distrito": "Balcarce", "nivel_inicial": 33, "nivel_primario": 40, "nivel_secundario": 20, "total_escuelas": 93, "pob_inicial": 1590.0, "pob_primaria": 4148.0, "pob_secundaria": 4336.0, "total_por_1000": 9.23, "inicial_por_1000": 20.75, "primario_por_1000": 9.64, "secundario_por_1000": 4.61}, {"distrito": "Chacabuco", "nivel_inicial": 34, "nivel_primario": 39, "nivel_secundario": 19, "total_escuelas": 92, "pob_inicial": 1513.0, "pob_primaria": 4154.0, "pob_secundaria": 4639.0, "total_por_1000": 8.93, "inicial_por_1000": 22.47, "primario_por_1000": 9.39, "secundario_por_1000": 4.1}, {"distrito": "San Vicente", "nivel_inicial": 33, "nivel_primario": 35, "nivel_secundario": 22, "total_escuelas": 90, "pob_inicial": 4191.0, "pob_primaria": 11591.0, "pob_secundaria": 11823.0, "total_por_1000": 3.26, "inicial_por_1000": 7.87, "primario_por_1000": 3.02, "secundario_por_1000": 1.86}, {"distrito": "Bolívar", "nivel_inicial": 33, "nivel_primario": 40, "nivel_secundario": 15, "total_escuelas": 88, "pob_inicial": 1173.0, "pob_primaria": 3249.0, "pob_secundaria": 3335.0, "total_por_1000": 11.34, "inicial_por_1000": 28.13, "primario_por_1000": 12.31, "secundario_por_1000": 4.5}, {"distrito": "Pehuajó", "nivel_inicial": 33, "nivel_primario": 37, "nivel_secundario": 17, "total_escuelas": 87, "pob_inicial": 1516.0, "pob_primaria": 3905.0, "pob_secundaria": 4259.0, "total_por_1000": 8.99, "inicial_por_1000": 21.77, "primario_por_1000": 9.48, "secundario_por_1000": 3.99}, {"distrito": "Chascomús", "nivel_inicial": 26, "nivel_primario": 40, "nivel_secundario": 19, "total_escuelas": 85, "pob_inicial": 1235.0, "pob_primaria": 3907.0, "pob_secundaria": 4377.0, "total_por_1000": 8.93, "inicial_por_1000": 21.05, "primario_por_1000": 10.24, "secundario_por_1000": 4.34}, {"distrito": "Berisso", "nivel_inicial": 28, "nivel_primario": 30, "nivel_secundario": 25, "total_escuelas": 83, "pob_inicial": 3225.0, "pob_primaria": 9283.0, "pob_secundaria": 9985.0, "total_por_1000": 3.69, "inicial_por_1000": 8.68, "primario_por_1000": 3.23, "secundario_por_1000": 2.5}, {"distrito": "La Costa", "nivel_inicial": 31, "nivel_primario": 28, "nivel_secundario": 23, "total_escuelas": 82, "pob_inicial": 3081.0, "pob_primaria": 8971.0, "pob_secundaria": 9936.0, "total_por_1000": 3.73, "inicial_por_1000": 10.06, "primario_por_1000": 3.12, "secundario_por_1000": 2.31}, {"distrito": "General Villegas", "nivel_inicial": 32, "nivel_primario": 32, "nivel_secundario": 17, "total_escuelas": 81, "pob_inicial": 1230.0, "pob_primaria": 3191.0, "pob_secundaria": 3551.0, "total_por_1000": 10.16, "inicial_por_1000": 26.02, "primario_por_1000": 10.03, "secundario_por_1000": 4.79}, {"distrito": "Lobos", "nivel_inicial": 30, "nivel_primario": 37, "nivel_secundario": 14, "total_escuelas": 81, "pob_inicial": 1379.0, "pob_primaria": 3821.0, "pob_secundaria": 4059.0, "total_por_1000": 8.75, "inicial_por_1000": 21.75, "primario_por_1000": 9.68, "secundario_por_1000": 3.45}, {"distrito": "Baradero", "nivel_inicial": 29, "nivel_primario": 29, "nivel_secundario": 18, "total_escuelas": 76, "pob_inicial": 1468.0, "pob_primaria": 3537.0, "pob_secundaria": 3789.0, "total_por_1000": 8.64, "inicial_por_1000": 19.75, "primario_por_1000": 8.2, "secundario_por_1000": 4.75}, {"distrito": "Saladillo", "nivel_inicial": 26, "nivel_primario": 37, "nivel_secundario": 12, "total_escuelas": 75, "pob_inicial": 1183.0, "pob_primaria": 3066.0, "pob_secundaria": 3277.0, "total_por_1000": 9.97, "inicial_por_1000": 21.98, "primario_por_1000": 12.07, "secundario_por_1000": 3.66}, {"distrito": "Villarino", "nivel_inicial": 26, "nivel_primario": 35, "nivel_secundario": 14, "total_escuelas": 75, "pob_inicial": 1128.0, "pob_primaria": 3012.0, "pob_secundaria": 3169.0, "total_por_1000": 10.26, "inicial_por_1000": 23.05, "primario_por_1000": 11.62, "secundario_por_1000": 4.42}, {"distrito": "Coronel de Marina L. Rosales", "nivel_inicial": 26, "nivel_primario": 29, "nivel_secundario": 19, "total_escuelas": 74, "pob_inicial": NaN, "pob_primaria": NaN, "pob_secundaria": NaN, "total_por_1000": NaN, "inicial_por_1000": NaN, "primario_por_1000": NaN, "secundario_por_1000": NaN}, {"distrito": "San Andrés de Giles", "nivel_inicial": 28, "nivel_primario": 30, "nivel_secundario": 15, "total_escuelas": 73, "pob_inicial": 878.0, "pob_primaria": 2525.0, "pob_secundaria": 2608.0, "total_por_1000": 12.14, "inicial_por_1000": 31.89, "primario_por_1000": 11.88, "secundario_por_1000": 5.75}, {"distrito": "Marcos Paz", "nivel_inicial": 27, "nivel_primario": 27, "nivel_secundario": 17, "total_escuelas": 71, "pob_inicial": 2388.0, "pob_primaria": 7034.0, "pob_secundaria": 7368.0, "total_por_1000": 4.23, "inicial_por_1000": 11.31, "primario_por_1000": 3.84, "secundario_por_1000": 2.31}, {"distrito": "Ayacucho", "nivel_inicial": 22, "nivel_primario": 37, "nivel_secundario": 12, "total_escuelas": 71, "pob_inicial": 686.0, "pob_primaria": 1980.0, "pob_secundaria": 2185.0, "total_por_1000": 14.64, "inicial_por_1000": 32.07, "primario_por_1000": 18.69, "secundario_por_1000": 5.49}, {"distrito": "Patagones", "nivel_inicial": 26, "nivel_primario": 31, "nivel_secundario": 13, "total_escuelas": 70, "pob_inicial": 1181.0, "pob_primaria": 3429.0, "pob_secundaria": 3576.0, "total_por_1000": 8.55, "inicial_por_1000": 22.02, "primario_por_1000": 9.04, "secundario_por_1000": 3.64}, {"distrito": "General Alvarado", "nivel_inicial": 23, "nivel_primario": 24, "nivel_secundario": 19, "total_escuelas": 66, "pob_inicial": 1570.0, "pob_primaria": 4034.0, "pob_secundaria": 4128.0, "total_por_1000": 6.78, "inicial_por_1000": 14.65, "primario_por_1000": 5.95, "secundario_por_1000": 4.6}, {"distrito": "Las Flores", "nivel_inicial": 17, "nivel_primario": 40, "nivel_secundario": 9, "total_escuelas": 66, "pob_inicial": 852.0, "pob_primaria": 2234.0, "pob_secundaria": 2507.0, "total_por_1000": 11.8, "inicial_por_1000": 19.95, "primario_por_1000": 17.91, "secundario_por_1000": 3.59}, {"distrito": "Lobería", "nivel_inicial": 20, "nivel_primario": 34, "nivel_secundario": 10, "total_escuelas": 64, "pob_inicial": 579.0, "pob_primaria": 1497.0, "pob_secundaria": 1600.0, "total_por_1000": 17.41, "inicial_por_1000": 34.54, "primario_por_1000": 22.71, "secundario_por_1000": 6.25}, {"distrito": "Mar Chiquita", "nivel_inicial": 21, "nivel_primario": 29, "nivel_secundario": 14, "total_escuelas": 64, "pob_inicial": 1051.0, "pob_primaria": 2935.0, "pob_secundaria": 3155.0, "total_por_1000": 8.96, "inicial_por_1000": 19.98, "primario_por_1000": 9.88, "secundario_por_1000": 4.44}, {"distrito": "Navarro", "nivel_inicial": 23, "nivel_primario": 31, "nivel_secundario": 9, "total_escuelas": 63, "pob_inicial": 645.0, "pob_primaria": 1805.0, "pob_secundaria": 2037.0, "total_por_1000": 14.04, "inicial_por_1000": 35.66, "primario_por_1000": 17.17, "secundario_por_1000": 4.42}, {"distrito": "Presidente Perón", "nivel_inicial": 23, "nivel_primario": 21, "nivel_secundario": 19, "total_escuelas": 63, "pob_inicial": 4398.0, "pob_primaria": 11721.0, "pob_secundaria": 12392.0, "total_por_1000": 2.21, "inicial_por_1000": 5.23, "primario_por_1000": 1.79, "secundario_por_1000": 1.53}, {"distrito": "Brandsen", "nivel_inicial": 21, "nivel_primario": 23, "nivel_secundario": 16, "total_escuelas": 60, "pob_inicial": 1065.0, "pob_primaria": 3178.0, "pob_secundaria": 3406.0, "total_por_1000": 7.84, "inicial_por_1000": 19.72, "primario_por_1000": 7.24, "secundario_por_1000": 4.7}, {"distrito": "Bragado", "nivel_inicial": 20, "nivel_primario": 25, "nivel_secundario": 15, "total_escuelas": 60, "pob_inicial": 1413.0, "pob_primaria": 3862.0, "pob_secundaria": 4202.0, "total_por_1000": 6.33, "inicial_por_1000": 14.15, "primario_por_1000": 6.47, "secundario_por_1000": 3.57}, {"distrito": "Adolfo Alsina", "nivel_inicial": 21, "nivel_primario": 26, "nivel_secundario": 12, "total_escuelas": 59, "pob_inicial": 544.0, "pob_primaria": 1465.0, "pob_secundaria": 1405.0, "total_por_1000": 17.28, "inicial_por_1000": 38.6, "primario_por_1000": 17.75, "secundario_por_1000": 8.54}, {"distrito": "Magdalena", "nivel_inicial": 21, "nivel_primario": 24, "nivel_secundario": 14, "total_escuelas": 59, "pob_inicial": 854.0, "pob_primaria": 2205.0, "pob_secundaria": 2363.0, "total_por_1000": 10.88, "inicial_por_1000": 24.59, "primario_por_1000": 10.88, "secundario_por_1000": 5.92}, {"distrito": "Coronel Pringles", "nivel_inicial": 21, "nivel_primario": 26, "nivel_secundario": 11, "total_escuelas": 58, "pob_inicial": 773.0, "pob_primaria": 2273.0, "pob_secundaria": 2268.0, "total_por_1000": 10.91, "inicial_por_1000": 27.17, "primario_por_1000": 11.44, "secundario_por_1000": 4.85}, {"distrito": "Carlos Casares", "nivel_inicial": 18, "nivel_primario": 25, "nivel_secundario": 13, "total_escuelas": 56, "pob_inicial": 712.0, "pob_primaria": 2021.0, "pob_secundaria": 2164.0, "total_por_1000": 11.44, "inicial_por_1000": 25.28, "primario_por_1000": 12.37, "secundario_por_1000": 6.01}, {"distrito": "Salto", "nivel_inicial": 21, "nivel_primario": 21, "nivel_secundario": 14, "total_escuelas": 56, "pob_inicial": 1376.0, "pob_primaria": 3562.0, "pob_secundaria": 3854.0, "total_por_1000": 6.37, "inicial_por_1000": 15.26, "primario_por_1000": 5.9, "secundario_por_1000": 3.63}, {"distrito": "Exaltación de la Cruz", "nivel_inicial": 20, "nivel_primario": 22, "nivel_secundario": 13, "total_escuelas": 55, "pob_inicial": 1425.0, "pob_primaria": 3987.0, "pob_secundaria": 4204.0, "total_por_1000": 5.72, "inicial_por_1000": 14.04, "primario_por_1000": 5.52, "secundario_por_1000": 3.09}, {"distrito": "General Juan Madariaga", "nivel_inicial": 19, "nivel_primario": 24, "nivel_secundario": 11, "total_escuelas": 54, "pob_inicial": 608.0, "pob_primaria": 1960.0, "pob_secundaria": 2366.0, "total_por_1000": 10.94, "inicial_por_1000": 31.25, "primario_por_1000": 12.24, "secundario_por_1000": 4.65}, {"distrito": "Ensenada", "nivel_inicial": 18, "nivel_primario": 19, "nivel_secundario": 16, "total_escuelas": 53, "pob_inicial": 1968.0, "pob_primaria": 6082.0, "pob_secundaria": 6751.0, "total_por_1000": 3.58, "inicial_por_1000": 9.15, "primario_por_1000": 3.12, "secundario_por_1000": 2.37}, {"distrito": "Ramallo", "nivel_inicial": 13, "nivel_primario": 26, "nivel_secundario": 13, "total_escuelas": 52, "pob_inicial": 1468.0, "pob_primaria": 3917.0, "pob_secundaria": 4077.0, "total_por_1000": 5.5, "inicial_por_1000": 8.86, "primario_por_1000": 6.64, "secundario_por_1000": 3.19}, {"distrito": "Coronel Dorrego", "nivel_inicial": 20, "nivel_primario": 22, "nivel_secundario": 9, "total_escuelas": 51, "pob_inicial": 480.0, "pob_primaria": 1326.0, "pob_secundaria": 1410.0, "total_por_1000": 15.86, "inicial_por_1000": 41.67, "primario_por_1000": 16.59, "secundario_por_1000": 6.38}, {"distrito": "Rivadavia", "nivel_inicial": 19, "nivel_primario": 22, "nivel_secundario": 10, "total_escuelas": 51, "pob_inicial": 766.0, "pob_primaria": 1930.0, "pob_secundaria": 1952.0, "total_por_1000": 10.97, "inicial_por_1000": 24.8, "primario_por_1000": 11.4, "secundario_por_1000": 5.12}, {"distrito": "Daireaux", "nivel_inicial": 19, "nivel_primario": 22, "nivel_secundario": 9, "total_escuelas": 50, "pob_inicial": 577.0, "pob_primaria": 1664.0, "pob_secundaria": 1734.0, "total_por_1000": 12.58, "inicial_por_1000": 32.93, "primario_por_1000": 13.22, "secundario_por_1000": 5.19}, {"distrito": "San Antonio de Areco", "nivel_inicial": 19, "nivel_primario": 20, "nivel_secundario": 11, "total_escuelas": 50, "pob_inicial": 917.0, "pob_primaria": 2389.0, "pob_secundaria": 2474.0, "total_por_1000": 8.65, "inicial_por_1000": 20.72, "primario_por_1000": 8.37, "secundario_por_1000": 4.45}, {"distrito": "Roque Pérez", "nivel_inicial": 18, "nivel_primario": 26, "nivel_secundario": 6, "total_escuelas": 50, "pob_inicial": 469.0, "pob_primaria": 1261.0, "pob_secundaria": 1351.0, "total_por_1000": 16.23, "inicial_por_1000": 38.38, "primario_por_1000": 20.62, "secundario_por_1000": 4.44}, {"distrito": "Rauch", "nivel_inicial": 20, "nivel_primario": 24, "nivel_secundario": 6, "total_escuelas": 50, "pob_inicial": 509.0, "pob_primaria": 1430.0, "pob_secundaria": 1499.0, "total_por_1000": 14.54, "inicial_por_1000": 39.29, "primario_por_1000": 16.78, "secundario_por_1000": 4.0}, {"distrito": "Puan", "nivel_inicial": 16, "nivel_primario": 21, "nivel_secundario": 12, "total_escuelas": 49, "pob_inicial": 434.0, "pob_primaria": 1179.0, "pob_secundaria": 1221.0, "total_por_1000": 17.29, "inicial_por_1000": 36.87, "primario_por_1000": 17.81, "secundario_por_1000": 9.83}, {"distrito": "Tornquist", "nivel_inicial": 18, "nivel_primario": 20, "nivel_secundario": 11, "total_escuelas": 49, "pob_inicial": 411.0, "pob_primaria": 1247.0, "pob_secundaria": 1267.0, "total_por_1000": 16.75, "inicial_por_1000": 43.8, "primario_por_1000": 16.04, "secundario_por_1000": 8.68}, {"distrito": "Arrecifes", "nivel_inicial": 18, "nivel_primario": 21, "nivel_secundario": 10, "total_escuelas": 49, "pob_inicial": 1161.0, "pob_primaria": 2905.0, "pob_secundaria": 3046.0, "total_por_1000": 6.89, "inicial_por_1000": 15.5, "primario_por_1000": 7.23, "secundario_por_1000": 3.28}, {"distrito": "General Paz", "nivel_inicial": 16, "nivel_primario": 26, "nivel_secundario": 6, "total_escuelas": 48, "pob_inicial": 435.0, "pob_primaria": 1359.0, "pob_secundaria": 1426.0, "total_por_1000": 14.91, "inicial_por_1000": 36.78, "primario_por_1000": 19.13, "secundario_por_1000": 4.21}, {"distrito": "Carlos Tejedor", "nivel_inicial": 18, "nivel_primario": 21, "nivel_secundario": 8, "total_escuelas": 47, "pob_inicial": 462.0, "pob_primaria": 1292.0, "pob_secundaria": 1273.0, "total_por_1000": 15.53, "inicial_por_1000": 38.96, "primario_por_1000": 16.25, "secundario_por_1000": 6.28}, {"distrito": "General Alvear", "nivel_inicial": 15, "nivel_primario": 26, "nivel_secundario": 6, "total_escuelas": 47, "pob_inicial": 311.0, "pob_primaria": 924.0, "pob_secundaria": 921.0, "total_por_1000": 21.8, "inicial_por_1000": 48.23, "primario_por_1000": 28.14, "secundario_por_1000": 6.51}, {"distrito": "Monte", "nivel_inicial": 17, "nivel_primario": 19, "nivel_secundario": 11, "total_escuelas": 47, "pob_inicial": 791.0, "pob_primaria": 2316.0, "pob_secundaria": 2573.0, "total_por_1000": 8.27, "inicial_por_1000": 21.49, "primario_por_1000": 8.2, "secundario_por_1000": 4.28}, {"distrito": "Carmen de Areco", "nivel_inicial": 17, "nivel_primario": 20, "nivel_secundario": 9, "total_escuelas": 46, "pob_inicial": 623.0, "pob_primaria": 1586.0, "pob_secundaria": 1691.0, "total_por_1000": 11.79, "inicial_por_1000": 27.29, "primario_por_1000": 12.61, "secundario_por_1000": 5.32}, {"distrito": "Saavedra", "nivel_inicial": 16, "nivel_primario": 20, "nivel_secundario": 10, "total_escuelas": 46, "pob_inicial": 624.0, "pob_primaria": 1706.0, "pob_secundaria": 1764.0, "total_por_1000": 11.24, "inicial_por_1000": 25.64, "primario_por_1000": 11.72, "secundario_por_1000": 5.67}, {"distrito": "Rojas", "nivel_inicial": 17, "nivel_primario": 20, "nivel_secundario": 8, "total_escuelas": 45, "pob_inicial": 784.0, "pob_primaria": 2137.0, "pob_secundaria": 2395.0, "total_por_1000": 8.47, "inicial_por_1000": 21.68, "primario_por_1000": 9.36, "secundario_por_1000": 3.34}, {"distrito": "Guaminí", "nivel_inicial": 18, "nivel_primario": 20, "nivel_secundario": 7, "total_escuelas": 45, "pob_inicial": 345.0, "pob_primaria": 977.0, "pob_secundaria": 1023.0, "total_por_1000": 19.19, "inicial_por_1000": 52.17, "primario_por_1000": 20.47, "secundario_por_1000": 6.84}, {"distrito": "Colón", "nivel_inicial": 17, "nivel_primario": 17, "nivel_secundario": 11, "total_escuelas": 45, "pob_inicial": 853.0, "pob_primaria": 2290.0, "pob_secundaria": 2476.0, "total_por_1000": 8.01, "inicial_por_1000": 19.93, "primario_por_1000": 7.42, "secundario_por_1000": 4.44}, {"distrito": "Tapalqué", "nivel_inicial": 15, "nivel_primario": 23, "nivel_secundario": 5, "total_escuelas": 43, "pob_inicial": 375.0, "pob_primaria": 979.0, "pob_secundaria": 971.0, "total_por_1000": 18.49, "inicial_por_1000": 40.0, "primario_por_1000": 23.49, "secundario_por_1000": 5.15}, {"distrito": "Dolores", "nivel_inicial": 12, "nivel_primario": 22, "nivel_secundario": 9, "total_escuelas": 43, "pob_inicial": 1115.0, "pob_primaria": 2873.0, "pob_secundaria": 2851.0, "total_por_1000": 6.29, "inicial_por_1000": 10.76, "primario_por_1000": 7.66, "secundario_por_1000": 3.16}, {"distrito": "General Viamonte", "nivel_inicial": 15, "nivel_primario": 18, "nivel_secundario": 8, "total_escuelas": 41, "pob_inicial": 761.0, "pob_primaria": 2164.0, "pob_secundaria": 2062.0, "total_por_1000": 8.22, "inicial_por_1000": 19.71, "primario_por_1000": 8.32, "secundario_por_1000": 3.88}, {"distrito": "General Las Heras", "nivel_inicial": 17, "nivel_primario": 17, "nivel_secundario": 7, "total_escuelas": 41, "pob_inicial": 608.0, "pob_primaria": 1737.0, "pob_secundaria": 1743.0, "total_por_1000": 10.03, "inicial_por_1000": 27.96, "primario_por_1000": 9.79, "secundario_por_1000": 4.02}, {"distrito": "Leandro N. Alem", "nivel_inicial": 14, "nivel_primario": 18, "nivel_secundario": 8, "total_escuelas": 40, "pob_inicial": 594.0, "pob_primaria": 1497.0, "pob_secundaria": 1641.0, "total_por_1000": 10.72, "inicial_por_1000": 23.57, "primario_por_1000": 12.02, "secundario_por_1000": 4.88}, {"distrito": "Benito Juárez", "nivel_inicial": 13, "nivel_primario": 16, "nivel_secundario": 10, "total_escuelas": 39, "pob_inicial": 673.0, "pob_primaria": 1858.0, "pob_secundaria": 1988.0, "total_por_1000": 8.63, "inicial_por_1000": 19.32, "primario_por_1000": 8.61, "secundario_por_1000": 5.03}, {"distrito": "Villa Gesell", "nivel_inicial": 12, "nivel_primario": 14, "nivel_secundario": 13, "total_escuelas": 39, "pob_inicial": 1061.0, "pob_primaria": 3225.0, "pob_secundaria": 3782.0, "total_por_1000": 4.83, "inicial_por_1000": 11.31, "primario_por_1000": 4.34, "secundario_por_1000": 3.44}, {"distrito": "Adolfo Gonzales Chaves", "nivel_inicial": 14, "nivel_primario": 16, "nivel_secundario": 8, "total_escuelas": 38, "pob_inicial": 410.0, "pob_primaria": 1140.0, "pob_secundaria": 1164.0, "total_por_1000": 14.0, "inicial_por_1000": 34.15, "primario_por_1000": 14.04, "secundario_por_1000": 6.87}, {"distrito": "General La Madrid", "nivel_inicial": 14, "nivel_primario": 17, "nivel_secundario": 7, "total_escuelas": 38, "pob_inicial": 379.0, "pob_primaria": 1020.0, "pob_secundaria": 1027.0, "total_por_1000": 15.66, "inicial_por_1000": 36.94, "primario_por_1000": 16.67, "secundario_por_1000": 6.82}, {"distrito": "General Belgrano", "nivel_inicial": 12, "nivel_primario": 17, "nivel_secundario": 8, "total_escuelas": 37, "pob_inicial": 682.0, "pob_primaria": 1883.0, "pob_secundaria": 1914.0, "total_por_1000": 8.26, "inicial_por_1000": 17.6, "primario_por_1000": 9.03, "secundario_por_1000": 4.18}, {"distrito": "General Arenales", "nivel_inicial": 13, "nivel_primario": 12, "nivel_secundario": 10, "total_escuelas": 35, "pob_inicial": 524.0, "pob_primaria": 1341.0, "pob_secundaria": 1287.0, "total_por_1000": 11.1, "inicial_por_1000": 24.81, "primario_por_1000": 8.95, "secundario_por_1000": 7.77}, {"distrito": "Suipacha", "nivel_inicial": 14, "nivel_primario": 15, "nivel_secundario": 6, "total_escuelas": 35, "pob_inicial": 429.0, "pob_primaria": 1121.0, "pob_secundaria": 1163.0, "total_por_1000": 12.9, "inicial_por_1000": 32.63, "primario_por_1000": 13.38, "secundario_por_1000": 5.16}, {"distrito": "Alberti", "nivel_inicial": 12, "nivel_primario": 14, "nivel_secundario": 8, "total_escuelas": 34, "pob_inicial": 391.0, "pob_primaria": 1047.0, "pob_secundaria": 1242.0, "total_por_1000": 12.69, "inicial_por_1000": 30.69, "primario_por_1000": 13.37, "secundario_por_1000": 6.44}, {"distrito": "Pinamar", "nivel_inicial": 13, "nivel_primario": 11, "nivel_secundario": 9, "total_escuelas": 33, "pob_inicial": 1262.0, "pob_primaria": 3650.0, "pob_secundaria": 3980.0, "total_por_1000": 3.71, "inicial_por_1000": 10.3, "primario_por_1000": 3.01, "secundario_por_1000": 2.26}, {"distrito": "Laprida", "nivel_inicial": 12, "nivel_primario": 16, "nivel_secundario": 5, "total_escuelas": 33, "pob_inicial": 357.0, "pob_primaria": 1100.0, "pob_secundaria": 1204.0, "total_por_1000": 12.4, "inicial_por_1000": 33.61, "primario_por_1000": 14.55, "secundario_por_1000": 4.15}, {"distrito": "General Pinto", "nivel_inicial": 11, "nivel_primario": 15, "nivel_secundario": 7, "total_escuelas": 33, "pob_inicial": 492.0, "pob_primaria": 1151.0, "pob_secundaria": 1127.0, "total_por_1000": 11.91, "inicial_por_1000": 22.36, "primario_por_1000": 13.03, "secundario_por_1000": 6.21}, {"distrito": "Punta Indio", "nivel_inicial": 10, "nivel_primario": 16, "nivel_secundario": 6, "total_escuelas": 32, "pob_inicial": 379.0, "pob_primaria": 1108.0, "pob_secundaria": 1163.0, "total_por_1000": 12.08, "inicial_por_1000": 26.39, "primario_por_1000": 14.44, "secundario_por_1000": 5.16}, {"distrito": "Castelli", "nivel_inicial": 8, "nivel_primario": 19, "nivel_secundario": 3, "total_escuelas": 30, "pob_inicial": 328.0, "pob_primaria": 890.0, "pob_secundaria": 840.0, "total_por_1000": 14.58, "inicial_por_1000": 24.39, "primario_por_1000": 21.35, "secundario_por_1000": 3.57}, {"distrito": "Capitán Sarmiento", "nivel_inicial": 11, "nivel_primario": 13, "nivel_secundario": 6, "total_escuelas": 30, "pob_inicial": 534.0, "pob_primaria": 1355.0, "pob_secundaria": 1489.0, "total_por_1000": 8.88, "inicial_por_1000": 20.6, "primario_por_1000": 9.59, "secundario_por_1000": 4.03}, {"distrito": "Pila", "nivel_inicial": 10, "nivel_primario": 16, "nivel_secundario": 2, "total_escuelas": 28, "pob_inicial": 153.0, "pob_primaria": 521.0, "pob_secundaria": 459.0, "total_por_1000": 24.71, "inicial_por_1000": 65.36, "primario_por_1000": 30.71, "secundario_por_1000": 4.36}, {"distrito": "Maipú", "nivel_inicial": 10, "nivel_primario": 13, "nivel_secundario": 5, "total_escuelas": 28, "pob_inicial": 348.0, "pob_primaria": 1022.0, "pob_secundaria": 1026.0, "total_por_1000": 11.69, "inicial_por_1000": 28.74, "primario_por_1000": 12.72, "secundario_por_1000": 4.87}, {"distrito": "Florentino Ameghino", "nivel_inicial": 10, "nivel_primario": 10, "nivel_secundario": 7, "total_escuelas": 27, "pob_inicial": 385.0, "pob_primaria": 969.0, "pob_secundaria": 1167.0, "total_por_1000": 10.71, "inicial_por_1000": 25.97, "primario_por_1000": 10.32, "secundario_por_1000": 6.0}, {"distrito": "Hipólito Yrigoyen", "nivel_inicial": 8, "nivel_primario": 10, "nivel_secundario": 5, "total_escuelas": 23, "pob_inicial": 340.0, "pob_primaria": 906.0, "pob_secundaria": 985.0, "total_por_1000": 10.31, "inicial_por_1000": 23.53, "primario_por_1000": 11.04, "secundario_por_1000": 5.08}, {"distrito": "Lezama", "nivel_inicial": 5, "nivel_primario": 13, "nivel_secundario": 4, "total_escuelas": 22, "pob_inicial": 180.0, "pob_primaria": 528.0, "pob_secundaria": 549.0, "total_por_1000": 17.5, "inicial_por_1000": 27.78, "primario_por_1000": 24.62, "secundario_por_1000": 7.29}, {"distrito": "General Guido", "nivel_inicial": 6, "nivel_primario": 14, "nivel_secundario": 2, "total_escuelas": 22, "pob_inicial": 96.0, "pob_primaria": 265.0, "pob_secundaria": 318.0, "total_por_1000": 32.4, "inicial_por_1000": 62.5, "primario_por_1000": 52.83, "secundario_por_1000": 6.29}, {"distrito": "General Lavalle", "nivel_inicial": 9, "nivel_primario": 10, "nivel_secundario": 3, "total_escuelas": 22, "pob_inicial": 160.0, "pob_primaria": 521.0, "pob_secundaria": 529.0, "total_por_1000": 18.18, "inicial_por_1000": 56.25, "primario_por_1000": 19.19, "secundario_por_1000": 5.67}, {"distrito": "San Cayetano", "nivel_inicial": 7, "nivel_primario": 11, "nivel_secundario": 3, "total_escuelas": 21, "pob_inicial": 287.0, "pob_primaria": 705.0, "pob_secundaria": 738.0, "total_por_1000": 12.14, "inicial_por_1000": 24.39, "primario_por_1000": 15.6, "secundario_por_1000": 4.07}, {"distrito": "Pellegrini", "nivel_inicial": 7, "nivel_primario": 7, "nivel_secundario": 4, "total_escuelas": 18, "pob_inicial": 280.0, "pob_primaria": 741.0, "pob_secundaria": 657.0, "total_por_1000": 10.73, "inicial_por_1000": 25.0, "primario_por_1000": 9.45, "secundario_por_1000": 6.09}, {"distrito": "Tres Lomas", "nivel_inicial": 7, "nivel_primario": 7, "nivel_secundario": 3, "total_escuelas": 17, "pob_inicial": 286.0, "pob_primaria": 813.0, "pob_secundaria": 859.0, "total_por_1000": 8.68, "inicial_por_1000": 24.48, "primario_por_1000": 8.61, "secundario_por_1000": 3.49}, {"distrito": "Salliqueló", "nivel_inicial": 6, "nivel_primario": 6, "nivel_secundario": 4, "total_escuelas": 16, "pob_inicial": 270.0, "pob_primaria": 789.0, "pob_secundaria": 826.0, "total_por_1000": 8.49, "inicial_por_1000": 22.22, "primario_por_1000": 7.6, "secundario_por_1000": 4.84}, {"distrito": "Monte Hermoso", "nivel_inicial": 4, "nivel_primario": 4, "nivel_secundario": 3, "total_escuelas": 11, "pob_inicial": 267.0, "pob_primaria": 725.0, "pob_secundaria": 789.0, "total_por_1000": 6.18, "inicial_por_1000": 14.98, "primario_por_1000": 5.52, "secundario_por_1000": 3.8}, {"distrito": "Tordillo", "nivel_inicial": 4, "nivel_primario": 5, "nivel_secundario": 1, "total_escuelas": 10, "pob_inicial": 100.0, "pob_primaria": 270.0, "pob_secundaria": 238.0, "total_por_1000": 16.45, "inicial_por_1000": 40.0, "primario_por_1000": 18.52, "secundario_por_1000": 4.2}];
    const metricSel = document.getElementById('metric');
    const orderSel  = document.getElementById('order');
    const searchInp = document.getElementById('search');
    const topSel    = document.getElementById('topn');
    const btnReset  = document.getElementById('btnReset');

    const cmp1 = document.getElementById('cmp1');
    const cmp2 = document.getElementById('cmp2');
    const cmp3 = document.getElementById('cmp3');
    const onlyCmp = document.getElementById('onlyCmp');
    const btnCmpClear = document.getElementById('btnCmpClear');
    const cmpTable = document.getElementById('cmpTable');

    function selectedDistricts(){
      const vals = [cmp1.value, cmp2.value, cmp3.value].map(v => (v||'').trim()).filter(Boolean);
      // eliminar repetidos manteniendo orden
      return Array.from(new Set(vals));
    }

    function filtered(){
      const m = metricSel.value;
      const q = searchInp.value.toLowerCase().trim();
      const order = orderSel.value; // 'asc' | 'desc'
      const cmp = selectedDistricts();

      let rows = DATA.filter(d => Number.isFinite(d[m]));
      if(q){
        rows = rows.filter(d => (d.distrito||'').toLowerCase().includes(q));
      }
      if(onlyCmp.checked && cmp.length){
        rows = rows.filter(d => cmp.includes(d.distrito));
      }
      rows.sort((a,b)=> (order==='asc' ? (a[m]||0)-(b[m]||0) : (b[m]||0)-(a[m]||0)));
      const top = parseInt(topSel.value||'0',10);
      if(top>0) rows = rows.slice(0, top);
      return rows;
    }

    function draw(){
      const m = metricSel.value;
      const rows = filtered();
      const y = rows.map(d=> d.distrito);
      const x = rows.map(d=> d[m]);

      const cmp = selectedDistricts();
      const colors = rows.map(d => cmp.includes(d.distrito) ? '#da6863' : '#24496e');

      const text = rows.map(d=> (d[m] ?? '').toLocaleString('es-AR'));
      const trace = {
        type: 'bar', orientation: 'h',
        x: x, y: y, text: text, textposition: 'auto',
        marker: {color: colors},
        hovertemplate: '<b>%{y}</b><br>%{x} por 1.000<extra></extra>'
      };
      const layout = {
        margin: {l: 200, r: 20, t: 20, b: 40},
        xaxis: {title: 'Escuelas por 1.000 habitantes (edad escolar)'},
        yaxis: {automargin: true}
      };
      Plotly.newPlot('chart', [trace], layout, {responsive:true, displayModeBar:true});

      // KPIs
      const n = rows.length;
      const media = n ? (rows.reduce((a,b)=> a + (b[m]||0), 0)/n) : 0;
      const max = n ? Math.max(...rows.map(r=> r[m]||0)) : 0;
      document.getElementById('kpiRows').textContent = `Distritos: ${n}`;
      document.getElementById('kpiMedia').textContent = `Media: ${media.toFixed(2)}`;
      document.getElementById('kpiMax').textContent = `Máximo: ${max.toFixed(2)}`;

      // Tabla de comparación (si hay selección)
      if(cmp.length){
        const compareRows = DATA.filter(d => cmp.includes(d.distrito)).map(d => ({
          distrito: d.distrito,
          total: d.total_por_1000,
          inicial: d.inicial_por_1000,
          primario: d.primario_por_1000,
          secundario: d.secundario_por_1000
        }));
        compareRows.sort((a,b)=> (b[m]||0)-(a[m]||0));
        const head = '<tr><th>Distrito</th><th>Total</th><th>Inicial</th><th>Primario</th><th>Secundario</th></tr>';
        const rowsHtml = compareRows.map(r => `<tr>
          <td>${r.distrito}</td>
          <td>${(r.total??'').toLocaleString('es-AR')}</td>
          <td>${(r.inicial??'').toLocaleString('es-AR')}</td>
          <td>${(r.primario??'').toLocaleString('es-AR')}</td>
          <td>${(r.secundario??'').toLocaleString('es-AR')}</td>
        </tr>`).join('');
        cmpTable.innerHTML = `<div class="panel mini" style="margin-top:10px;overflow:auto">
          <b>Comparación seleccionados</b>
          <table style="width:100%;border-collapse:collapse">
            ${head}
            ${rowsHtml}
          </table>
        </div>`;
      }else{
        cmpTable.innerHTML = '';
      }
    }

    function resetAll(){
      metricSel.value='total_por_1000';
      orderSel.value='desc';
      searchInp.value='';
      topSel.value='0';
      cmp1.value=''; cmp2.value=''; cmp3.value='';
      onlyCmp.checked=false;
      draw();
    }

    metricSel.addEventListener('change', draw);
    orderSel.addEventListener('change', draw);
    searchInp.addEventListener('input', draw);
    topSel.addEventListener('change', draw);
    btnReset.addEventListener('click', resetAll);

    cmp1.addEventListener('input', draw);
    cmp2.addEventListener('input', draw);
    cmp3.addEventListener('input', draw);
    onlyCmp.addEventListener('change', draw);
    btnCmpClear.addEventListener('click', ()=>{ cmp1.value=''; cmp2.value=''; cmp3.value=''; onlyCmp.checked=false; draw(); });

    // Sanitizar NaN a null
    for(const d of DATA){
      for(const k of Object.keys(d)){
        if(d[k]===null || d[k]===undefined) continue;
        if(typeof d[k] === 'number' && !isFinite(d[k])) d[k] = null;
      }
    }

    draw();
  
  window.addEventListener('resize', ()=>{
    const el = document.getElementById('chart');
    if(el && el.data){ try{ Plotly.Plots.resize(el); }catch(e){} }
  });
</script>
</body>
</html>
